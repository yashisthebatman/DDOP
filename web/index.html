<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drone Delivery Operations</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js" charset="utf-8"></script>
</head>
<body>
    <div id="plotContainer"></div>

    <!-- Main Control Panel on the Left -->
    <div id="leftPanel">
        <div class="header">
            <h1>Fleet & Mission Control</h1>
            <div id="simTime">Sim Time: 0.0s</div>
        </div>
        <div class="controls">
            <button id="runPauseButton" class="run">‚ñ∂ Run</button>
            <button id="dispatchButton">üöö Dispatch</button>
            <button id="resetButton" class="danger">‚ö†Ô∏è Reset</button>
        </div>
        <div class="metrics">
            <div class="metric-item"><span class="label">Idle</span><span id="dronesIdle" class="value">0</span></div>
            <div class="metric-item"><span class="label">Active</span><span id="dronesActive" class="value">0</span></div>
            <div class="metric-item"><span class="label">Pending Orders</span><span id="ordersPending" class="value">0</span></div>
            <div class="metric-item"><span class="label">Completed Orders</span><span id="ordersCompleted" class="value">0</span></div>
        </div>

        <div class="content-section">
            <h2>Add New Order</h2>
            <form id="addOrderForm">
                <select id="destinationSelect" name="dest_name"></select>
                <input type="number" name="payload_kg" value="1.0" min="0.1" max="5.0" step="0.1" required>
                <label><input type="checkbox" name="high_priority"> High Priority</label>
                <button type="submit">Add Order</button>
            </form>
        </div>

        <!-- FIX: Added Drone Status List -->
        <div class="content-section drone-status-section">
            <h2>Drone Status</h2>
            <div class="table-container" id="droneStatusContainer">
                <!-- Drone status will be populated by JS -->
            </div>
        </div>
    </div>

    <!-- Log and Order Panel on the Right -->
    <div id="rightPanel">
        <!-- FIX: Added Pending Orders Table -->
        <div class="content-section">
            <h2>Pending Orders</h2>
            <div class="table-container">
                <table id="pendingOrdersTable">
                    <thead><tr><th>ID</th><th>Destination</th><th>Payload</th><th>Priority</th></tr></thead>
                    <tbody><!-- Populated by JS --></tbody>
                </table>
            </div>
        </div>
        <!-- FIX: Renamed to Mission Log -->
        <div class="content-section log-section">
            <h2>Mission Log</h2>
            <div id="logContainer">
                <!-- Log entries will be populated by JS -->
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>